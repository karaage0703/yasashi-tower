# **設計書**  
**プロジェクト名:** Yasashi Tower  
**作成者:** karaage 

---

## **1. システム概要**  
「Yasashi Tower」は、初心者でも手軽に遊べるタワーディフェンスゲームです。PC・スマホの両方でプレイ可能で、GitHub Pagesを利用してWebブラウザ上で動作します。  

---

## **2. システム構成**  
### **2.1. 技術スタック**  
| 要素 | 技術 |
|------|------|
| **フロントエンド** | HTML, CSS, JavaScript |
| **ゲームエンジン** | Phaser.js |
| **ホスティング** | GitHub Pages |
| **バージョン管理** | GitHub |
| **開発環境** | VS Code, Node.js（ローカル開発用） |

### **2.2. システム構成図**  
```plaintext
+----------------------+
|  ユーザー (PC/スマホ) |
+----------------------+
         |
         v
+----------------------+
|  Webブラウザ (HTML5) |
+----------------------+
         |
         v
+----------------------+
|  Phaser.js (ゲーム処理) |
+----------------------+
         |
         v
+----------------------+
|  GitHub Pages (ホスティング) |
+----------------------+
```

---

## **3. ゲーム設計**  
### **3.1. ゲームの流れ**  
1. **タイトル画面** → 「ゲーム開始」ボタンを押す  
2. **ゲーム画面** → タワーを設置し、敵の進行を防ぐ  
3. **ウェーブ管理** → 敵が一定間隔で出現  
4. **ゲームクリア・ゲームオーバー** → すべてのウェーブをクリアすると勝利、ライフが0になると敗北  

### **3.2. 主要なゲーム要素**  
| 要素 | 説明 |
|------|------|
| **タワー** | プレイヤーが設置し、敵を自動攻撃 |
| **敵** | ルートに沿って移動し、ゴールに到達するとライフが減少 |
| **ウェーブ** | 一定時間ごとに敵が出現 |
| **ライフ** | 敵がゴールに到達すると減少し、0になるとゲームオーバー |

---

## **4. クラス設計**  
### **4.1. クラス図**  
```plaintext
+------------------+
| GameManager      |
|------------------|
| + startGame()    |
| + update()       |
| + endGame()      |
+------------------+
        |
        v
+------------------+
| Tower            |
|------------------|
| - position       |
| - range          |
| - damage        |
|------------------|
| + attack(enemy)  |
+------------------+
        |
        v
+------------------+
| Enemy            |
|------------------|
| - position       |
| - speed          |
| - health         |
|------------------|
| + move()         |
| + takeDamage()   |
+------------------+
```

### **4.2. クラス詳細**  
#### **GameManager（ゲーム管理）**
- **役割:** ゲーム全体の管理（開始、終了、更新処理）  
- **主要メソッド:**  
  - `startGame()` : ゲーム開始時の初期化  
  - `update()` : ゲームのフレームごとの更新処理  
  - `endGame()` : ゲーム終了処理  

#### **Tower（タワー）**
- **役割:** プレイヤーが設置し、敵を攻撃する  
- **主要プロパティ:**  
  - `position` : タワーの座標  
  - `range` : 攻撃範囲  
  - `damage` : 攻撃力  
- **主要メソッド:**  
  - `attack(enemy)` : 範囲内の敵にダメージを与える  

#### **Enemy（敵）**
- **役割:** ルートに沿って移動し、ゴールを目指す  
- **主要プロパティ:**  
  - `position` : 敵の座標  
  - `speed` : 移動速度  
  - `health` : HP  
- **主要メソッド:**  
  - `move()` : ルートに沿って移動  
  - `takeDamage(amount)` : ダメージを受ける  

---

## **5. 画面設計**  
### **5.1. 画面一覧**  
| 画面 | 説明 |
|------|------|
| **タイトル画面** | 「ゲーム開始」ボタンを配置 |
| **ゲーム画面** | マップ、タワー設置エリア、ウェーブ情報、ライフ表示 |
| **ゲームオーバー画面** | リトライボタン、スコア表示 |
| **設定画面** | 音量調整、スピード設定 |

### **5.2. UI要素**  
| 要素 | 説明 |
|------|------|
| **タワー設置ボタン** | タワーを設置する |
| **スピード変更ボタン** | ゲームスピードを変更 |
| **ライフ表示** | 残りライフを表示 |
| **ウェーブ情報** | 現在のウェーブ数を表示 |

---

## **6. Git運用ルール**  
### **6.1. ブランチ戦略**  
- **`main` ブランチ**: 安定版（リリース用）  
- **`develop` ブランチ**: 開発用（最新の開発状況を反映）  
- **`feature/xxx` ブランチ**: 機能ごとの開発用（例: `feature/enemy-movement`）  

### **6.2. コミットメッセージのルール**  
- **[Add]** 新機能の追加（例: `[Add] タワーの攻撃機能を実装`）  
- **[Fix]** バグ修正（例: `[Fix] 敵がルートを外れるバグを修正`）  
- **[Update]** 仕様変更（例: `[Update] タワーの攻撃範囲を調整`）  

---

## **7. 開発スケジュール**  
| フェーズ | 期間 | 内容 |
|----------|------|------|
| **要件定義** | YYYY/MM/DD ～ YYYY/MM/DD | 仕様の確定 |
| **プロトタイプ作成** | YYYY/MM/DD ～ YYYY/MM/DD | 基本機能の実装（敵の移動、タワー設置、攻撃） |
| **基本機能開発** | YYYY/MM/DD ～ YYYY/MM/DD | ウェーブ管理、ライフ管理、ゲームオーバー処理 |
| **UI/UX調整** | YYYY/MM/DD ～ YYYY/MM/DD | デザイン調整、レスポンシブ対応 |
| **テスト・デバッグ** | YYYY/MM/DD ～ YYYY/MM/DD | バグ修正、動作確認 |
| **GitHub Pages公開** | YYYY/MM/DD | 公開・最終調整 |

---

## **8. まとめ**
- **シンプルなタワーディフェンスゲームを開発**  
- **Phaser.jsを使用し、GitHub Pagesで公開**  
- **複数人での開発を考慮し、Git運用ルールを整備**  
- **短時間で遊べるカジュアルなゲーム体験を提供**  
